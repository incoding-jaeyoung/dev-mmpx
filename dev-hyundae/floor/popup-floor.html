
<body> 
    <div class="modal modal-inside" tabindex="-1" aria-hidden="true">
        <div class="overlay" onclick="closeModal();"><span>닫기</span></div>   
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content floor">
                <div class="modal-header">
                    <div class="swiper floor-btn">
                        <div class="swiper-wrapper">
                           <div class="swiper-slide active"><a href="javascript:void(0);">B2</a></div>
                           <div class="swiper-slide"><a href="javascript:void(0);">B1</a></div>
                           <div class="swiper-slide"><a href="javascript:void(0);">1F</a></div>
                           <div class="swiper-slide"><a href="javascript:void(0);">2F</a></div>
                           <div class="swiper-slide"><a href="javascript:void(0);">3F</a></div>
                           <div class="swiper-slide"><a href="javascript:void(0);">4F</a></div>
                           <div class="swiper-slide"><a href="javascript:void(0);">5F</a></div>
                           <div class="swiper-slide"><a href="javascript:void(0);">6F</a></div>
                           <div class="swiper-slide"><a href="javascript:void(0);">7F</a></div>
                           <div class="swiper-slide"><a href="javascript:void(0);">8F</a></div>
                           <div class="swiper-slide"><a href="javascript:void(0);">9F</a></div>
                        </div>
                     </div>
                     <script>
                        floor()
                     </script>
                </div>
                <div class="modal-body">
                    <div class="map-title-block">
                        <h1 class="map-title">creative<br>ground</h1>
                        <h1 class="map-title">tasty<br>daegu</h1>
                        <h1 class="map-title">luxury<br>& Beauty</h1>
                        <h1 class="map-title">high-end <br>Fashion</h1>
                        <h1 class="map-title">woman’s <br>casual</h1>
                        <h1 class="map-title">woman’s <br>fashion & golf</h1>
                        <h1 class="map-title">man’S<br>fashion</h1>
                        <h1 class="map-title">lifestyle <br>& Kids</h1>
                        <h1 class="map-title">living<br>selection</h1>
                        <h1 class="map-title">dining <br>& culture</h1>
                        <h1 class="map-title">the forum</h1>
                    </div>
                    <script>
                        
                    </script>
                    <div id="map" class="map"></div>
                </div>
                <p class="close-popup"><button type="button" onclick="closeModal();"><img src="../img/Btn_X.svg" alt=""></button></p>
            </div>
        </div>
    </div>
    
    <script type="text/javascript">
        

        $(async () => {
            const maps = [
                'FL-qhnc44bodstt0473',
                'FL-qdqidxksklkm0452',
                'FL-1h7fvkz784x150428',
                'FL-1iv9b8lqxn59i0409',
                'FL-1iauxpn246vkx0385',
                'FL-1iesq9u8mh0860359',
                'FL-1jenq1ojqp6440333',
                'FL-u82fq0bivcrn0314',
                'FL-1ib5yh9hjhvsi0281',
                'FL-rhdu7dfct1et0263',
                'FL-1iv1k9ck709d00252',
            ];

            var indexNum = $(".floor-btn .swiper-slide.active").index()

            $('.map-title-block h1').removeClass('active')
            $('.map-title-block h1').eq(indexNum).addClass('active')

            const dabeeoMaps = new dabeeo.Maps();
            const mapData = await dabeeoMaps.getMapData({
                clientId: '2F38V44Tkm4bOoIKJfu1i8',
                clientSecret: 'b763edac57dfacd65c521f20a5d5c4b4'
            });
            const mapContainer = document.getElementById("map"); 
            const map = await dabeeoMaps.showMap(mapContainer, {floor: maps[indexNum]}, mapData);

            $(".floor-btn .swiper-slide").each(function ( i ) {
                $(this).off("click").on("click", function () {
                    $('.map-title-block h1').removeClass('active');
                    $('.map-title-block h1').eq(i).addClass('active');
                    $(".floor-btn .swiper-slide.active").removeClass("active");
                    $(".floor-btn .swiper-slide").eq(i).addClass('active');
                    map.context.changeFloor(maps[i]);
                })
            })

        });
    </script>
</body>
